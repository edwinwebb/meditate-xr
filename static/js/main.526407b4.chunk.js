(this["webpackJsonptest-xr"]=this["webpackJsonptest-xr"]||[]).push([[0],{42:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r=n(5),s=n(36),a=n.n(s),c=(n(42),n(11)),i=n(18),o=n(52),j=n(48),l=n(0),b=n(10);function u(e){var t=Object(r.useState)(!1),n=Object(c.a)(t,2),s=n[0],a=n[1],u=Object(r.useState)(!1),O=Object(c.a)(u,2),d=O[0],p=O[1],g=Object(i.d)(),h=g.isPresenting,x=g.player,f=Object(r.useRef)(),m=e.callbacks,M=m.setInclination,y=m.setMoonPosition,v=m.setMoonScale,S=Object(i.c)("right"),_=Object(i.c)("left"),R=new l.Raycaster,k=new l.Matrix4;return Object(i.e)("squeezestart",(function(e){return a(!0)}),{handedness:"right"}),Object(i.e)("squeezeend",(function(e){return a(!1)}),{handedness:"right"}),Object(i.e)("squeezestart",(function(e){return p(!0)}),{handedness:"left"}),Object(i.e)("squeezeend",(function(e){return p(!1)}),{handedness:"left"}),Object(r.useEffect)((function(){x.children[0].position.set(0,1,0)})),Object(i.f)((function(){s&&h&&M(S.controller.position.y/2-.5),d&&h&&(k.identity().extractRotation(_.controller.matrixWorld),R.ray.origin.setFromMatrixPosition(_.controller.matrixWorld),R.ray.direction.set(0,0,-1).applyMatrix4(k),y(R.intersectObject(f.current)[0].point.toArray()),v(x.children[0].position.distanceTo(_.controller.position)))})),Object(b.jsxs)("group",{children:[Object(b.jsx)(o.a,{}),Object(b.jsx)(j.b,{args:[380,32,32],position:[0,0,0],ref:f,visible:!1,children:Object(b.jsx)("meshBasicMaterial",{side:l.DoubleSide})})]})}var O=n(53);var d=function(e){var t=Object(r.useRef)(),n=e.inclination,s=void 0===n?.2:n,a=Math.min(Math.max(s,-.4),1);return Object(b.jsxs)("group",{children:[Object(b.jsx)("directionalLight",{args:[16645075,.7],position:[1e4,1e3*a,0]}),Object(b.jsx)(O.a,{ref:t,sunPosition:[1,a,0],distance:15e4})]})},p=n(51),g=n(8);function h(e){var t=Object(r.useRef)(),n=Object(p.a)("/moon.glb"),s=n.nodes,a=n.materials;return Object(b.jsx)("group",Object(g.a)(Object(g.a)({ref:t},e),{},{dispose:null,children:Object(b.jsx)("mesh",{geometry:s.Cube008.geometry,material:a["Default OBJ.005"],scale:[.003,.003,.003],"material-transparent":!0,"material-opacity":.98,"material-blending":l.AdditiveBlending})}))}function x(e){var t=e.radius,n=void 0===t?1.737:t,s=e.position,a=void 0===s?[0,100,380]:s,c=e.scale,o=void 0===c?1:c,l=Object(r.useRef)();return Object(i.f)((function(){l.current.position.x=a[0],l.current.position.y=a[1],l.current.position.z=a[2],l.current.scale.set(10*(1-o),10*(1-o),10*(1-o))})),Object(b.jsx)("group",{position:[0,100,-380],ref:l,children:Object(b.jsx)(r.Suspense,{fallback:Object(b.jsx)(j.b,{args:[n,32,32],scale:[1,1,1]}),children:Object(b.jsx)(h,{scale:[10,10,10]})})})}p.a.preload("/moon.glb"),p.a.preload("/moon.glb");var f=n(50),m=n(49);function M(e){var t=Object(r.useRef)(),n=Object(p.a)("/yinyang.glb").nodes,s=Object(m.a)(["Marble006_1K_Color.jpg","Marble006_1K_Roughness.jpg","Marble006_1K_Normal.jpg","Marble012_1K_Color.jpg","Marble012_1K_Roughness.jpg","Marble012_1K_Normal.jpg"]),a=Object(c.a)(s,6),i=a[0],o=a[1],j=a[2],u=a[3],O=a[4],d=a[5];return Object(b.jsx)("group",Object(g.a)(Object(g.a)({ref:t},e),{},{dispose:null,scale:[6,6,6],children:Object(b.jsx)(f.a,{resolution:512,frames:1/0,near:.1,far:5e4,children:function(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("mesh",{geometry:n.yang.geometry,children:Object(b.jsx)("meshStandardMaterial",{envMap:e,map:i,roughnessMap:o,normalMap:j,side:l.DoubleSide})}),Object(b.jsx)("mesh",{geometry:n.yin.geometry,children:Object(b.jsx)("meshStandardMaterial",{envMap:e,map:u,roughnessMap:O,normalMap:d,side:l.DoubleSide})})]})}})}))}function y(e){return Object(b.jsx)(r.Suspense,{fallback:Object(b.jsx)(j.a,{args:[1,1,32,32],scale:[1,.01,1]}),children:Object(b.jsx)(M,{scale:[.1,.1,.1]})})}p.a.preload("/yinyang.glb");var v=function(){var e=Object(r.useState)(.2),t=Object(c.a)(e,2),n=t[0],s=t[1],a=Object(r.useState)([0,0,-380]),o=Object(c.a)(a,2),j=o[0],l=o[1],O=Object(r.useState)(1),p=Object(c.a)(O,2),g=p[0],h=p[1];return Object(b.jsxs)(i.b,{camera:[{far:15e4}],children:[Object(b.jsx)(d,{inclination:n}),Object(b.jsx)(x,{radius:1.737,position:j,scale:g}),Object(b.jsx)(y,{}),Object(b.jsx)(u,{callbacks:{setInclination:s,setMoonPosition:l,setMoonScale:h}}),Object(b.jsx)("hemisphereLight",{args:[5725280,2434096,1]}),Object(b.jsx)(i.a,{})]})};a.a.render(Object(b.jsx)(v,{}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.526407b4.chunk.js.map